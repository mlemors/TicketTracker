<UserControl x:Class="TicketTracker.Views.SettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="{DynamicResource BackgroundBrush}">

    <Grid Margin="40">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="30" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0"
                   Text="Einstellungen"
                   FontSize="32" FontWeight="Light"
                   Foreground="{DynamicResource PrimaryTextBrush}" />

        <!-- General Section -->
        <StackPanel Grid.Row="2">
            <TextBlock Text="Allgemein"
                       FontSize="20" FontWeight="SemiBold"
                       Foreground="{DynamicResource PrimaryTextBrush}"
                       Margin="0,0,0,15" />

            <!-- App-Design Dropdown -->
            <Grid Margin="0,0,0,20">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <!-- Dropdown Header -->
                <Button x:Name="ThemeDropdownButton"
                        Grid.Row="0"
                        Height="48"
                        Background="Transparent"
                        BorderThickness="0,0,0,1"
                        BorderBrush="{DynamicResource BorderBrush}"
                        Padding="0,12"
                        HorizontalContentAlignment="Stretch"
                        Click="ThemeDropdownButton_Click">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="{DynamicResource NavigationHoverBrush}" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                                   Text="App-Design"
                                   FontSize="14" FontWeight="SemiBold"
                                   Foreground="{DynamicResource PrimaryTextBrush}"
                                   VerticalAlignment="Center" />

                        <TextBlock x:Name="SelectedThemeText"
                                   Grid.Column="1"
                                   Text="System"
                                   FontSize="14"
                                   Foreground="{DynamicResource SecondaryTextBrush}"
                                   VerticalAlignment="Center"
                                   Margin="0,0,10,0" />

                        <TextBlock x:Name="DropdownArrow"
                                   Grid.Column="2"
                                   Text="⌄"
                                   FontSize="12"
                                   Foreground="{DynamicResource SecondaryTextBrush}"
                                   VerticalAlignment="Center" />
                    </Grid>
                </Button>

                <!-- Dropdown Content -->
                <Border x:Name="ThemeDropdownContent"
                        Grid.Row="1"
                        Background="{DynamicResource SurfaceBrush}"
                        BorderBrush="{DynamicResource BorderBrush}"
                        BorderThickness="1,0,1,1"
                        Visibility="Collapsed">
                    <StackPanel Margin="0,8,0,8">
                        <Button x:Name="SystemThemeOption"
                                Height="40"
                                Background="Transparent"
                                BorderThickness="0"
                                HorizontalContentAlignment="Stretch"
                                Padding="16,0"
                                Click="SystemThemeOption_Click">
                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}"
                                            Padding="{TemplateBinding Padding}">
                                        <ContentPresenter
                                            HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                            VerticalAlignment="Center" />
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background"
                                                    Value="{DynamicResource NavigationHoverBrush}" />
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Button.Template>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <RadioButton x:Name="SystemThemeRadio"
                                             Grid.Column="0"
                                             IsChecked="True"
                                             GroupName="ThemeDropdown"
                                             VerticalAlignment="Center"
                                             Margin="0,0,10,0" />
                                <TextBlock Grid.Column="1"
                                           Text="System"
                                           FontSize="14"
                                           Foreground="{DynamicResource PrimaryTextBrush}"
                                           VerticalAlignment="Center" />
                            </Grid>
                        </Button>

                        <Button x:Name="LightThemeOption"
                                Height="40"
                                Background="Transparent"
                                BorderThickness="0"
                                HorizontalContentAlignment="Stretch"
                                Padding="16,0"
                                Click="LightThemeOption_Click">
                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}"
                                            Padding="{TemplateBinding Padding}">
                                        <ContentPresenter
                                            HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                            VerticalAlignment="Center" />
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background"
                                                    Value="{DynamicResource NavigationHoverBrush}" />
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Button.Template>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <RadioButton x:Name="LightThemeRadio"
                                             Grid.Column="0"
                                             GroupName="ThemeDropdown"
                                             VerticalAlignment="Center"
                                             Margin="0,0,10,0" />
                                <TextBlock Grid.Column="1"
                                           Text="Hell"
                                           FontSize="14"
                                           Foreground="{DynamicResource PrimaryTextBrush}"
                                           VerticalAlignment="Center" />
                            </Grid>
                        </Button>

                        <Button x:Name="DarkThemeOption"
                                Height="40"
                                Background="Transparent"
                                BorderThickness="0"
                                HorizontalContentAlignment="Stretch"
                                Padding="16,0"
                                Click="DarkThemeOption_Click">
                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}"
                                            Padding="{TemplateBinding Padding}">
                                        <ContentPresenter
                                            HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                            VerticalAlignment="Center" />
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background"
                                                    Value="{DynamicResource NavigationHoverBrush}" />
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Button.Template>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <RadioButton x:Name="DarkThemeRadio"
                                             Grid.Column="0"
                                             GroupName="ThemeDropdown"
                                             VerticalAlignment="Center"
                                             Margin="0,0,10,0" />
                                <TextBlock Grid.Column="1"
                                           Text="Dunkel"
                                           FontSize="14"
                                           Foreground="{DynamicResource PrimaryTextBrush}"
                                           VerticalAlignment="Center" />
                            </Grid>
                        </Button>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- Data Management Section -->
            <Grid Margin="0,20,0,20">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <!-- Open Settings File Option -->
                <Button x:Name="OpenSettingsFileButton"
                        Grid.Row="0"
                        MinHeight="60"
                        Background="Transparent"
                        BorderThickness="0,0,0,1"
                        BorderBrush="{DynamicResource BorderBrush}"
                        Padding="16,12"
                        HorizontalContentAlignment="Stretch"
                        Click="OpenSettingsFileButton_Click">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="{DynamicResource NavigationHoverBrush}" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" VerticalAlignment="Center">
                            <TextBlock Text="Settings-Datei öffnen"
                                       FontSize="16" FontWeight="SemiBold"
                                       Foreground="{DynamicResource PrimaryTextBrush}" />
                            <TextBlock Text="Öffnet die Konfigurationsdatei im Standard-Editor"
                                       FontSize="14"
                                       Foreground="{DynamicResource SecondaryTextBrush}"
                                       Margin="0,4,0,0" />
                        </StackPanel>

                        <TextBlock Grid.Column="1"
                                   Text="📁"
                                   FontSize="18"
                                   Foreground="{DynamicResource SecondaryTextBrush}"
                                   VerticalAlignment="Center"
                                   Margin="12,0,0,0" />
                    </Grid>
                </Button>

                <!-- Reset Data Option -->
                <Button x:Name="ResetDataButton"
                        Grid.Row="1"
                        MinHeight="60"
                        Background="Transparent"
                        BorderThickness="0,0,0,1"
                        BorderBrush="{DynamicResource BorderBrush}"
                        Padding="16,12"
                        HorizontalContentAlignment="Stretch"
                        Click="ResetDataButton_Click">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="{DynamicResource NavigationHoverBrush}" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" VerticalAlignment="Center">
                            <TextBlock Text="Alle Daten zurücksetzen"
                                       FontSize="16" FontWeight="SemiBold"
                                       Foreground="{DynamicResource PrimaryTextBrush}"
                                       TextWrapping="Wrap" />
                            <TextBlock Text="Löscht alle Timer und Einstellungen"
                                       FontSize="14"
                                       Foreground="{DynamicResource SecondaryTextBrush}"
                                       TextWrapping="Wrap"
                                       Margin="0,4,0,0" />
                        </StackPanel>

                        <TextBlock Grid.Column="1"
                                   Text="⚠️"
                                   FontSize="18"
                                   Foreground="{DynamicResource SecondaryTextBrush}"
                                   VerticalAlignment="Center"
                                   Margin="12,0,0,0" />
                    </Grid>
                </Button>
            </Grid>
        </StackPanel>
    </Grid>
</UserControl>